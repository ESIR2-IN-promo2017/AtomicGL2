<?xml version="1.0" encoding="UTF-8"?>

<SHADER name="textProg">
	<VERTEX>
		<ATTRIBUTES>
			attribute vec3 aVertexPosition;
			attribute vec3 aVertexNormal;
		</ATTRIBUTES>

		<UNIFORMS>
			uniform mat4 uMVMatrix;
			uniform mat4 uPMatrix;
			uniform mat3 uNMatrix;
		</UNIFORMS>

		<VARYING>
			varying vec3 vNormal;
		  varying vec4 vPosition;
		</VARYING>

		<OUTPUT>
		  void main(void) {
				vPosition = uMVMatrix *vec4(aVertexPosition, 1.0);
				gl_Position = uPMatrix * vPosition;
				vNormal = uNMatrix * aVertexNormal;
    	}
		</OUTPUT>
	</VERTEX>

	<FRAGMENT>
		<PRECISION>
			#ifdef GL_ES
				precision highp float;
			#endif
		</PRECISION>

		<UNIFORMS>
		    uniform vec3 pointLightLocations;
		    uniform vec3 pointLightColor;
		</UNIFORMS>

		<VARYING>
			varying vec3 vNormal;
		  varying vec4 vPosition;
		</VARYING>

		<OUTPUT>
			void main(void) {
				vec3 color;
				for (int i = 0; i < pointLightLocations.size(); i++)
				{
				  color += pointLightColor[i];
				}

				gl_FragColor = color;
			}
		</OUTPUT>
	</FRAGMENT>
</SHADER>
