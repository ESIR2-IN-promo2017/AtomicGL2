<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <base data-ice="baseUrl" href="../../../">
  <title data-ice="title">script/shaders/atomicGL2Texture.js | API Document</title>
  <link type="text/css" rel="stylesheet" href="css/style.css">
  <link type="text/css" rel="stylesheet" href="css/prettify-tomorrow.css">
  <script src="script/prettify/prettify.js"></script>
  
  
  <script src="script/manual.js"></script>
</head>
<body class="layout-container" data-ice="rootContainer">

<header>
  <a href="./">Home</a>
  
  <a href="identifiers.html">Reference</a>
  <a href="source.html">Source</a>
  
  
  <div class="search-box">
  <span>
    <img src="./image/search.png">
    <span class="search-input-edge"></span><input class="search-input"><span class="search-input-edge"></span>
  </span>
    <ul class="search-result"></ul>
  </div>
</header>

<nav class="navigation" data-ice="nav"><div>
  <ul>
    
  </ul>
</div>
</nav>

<div class="content" data-ice="content"><h1 data-ice="title">script/shaders/atomicGL2Texture.js</h1>
<pre class="source-code line-number raw-source-code"><code class="prettyprint linenums" data-ice="content">// atomicGL
//----------------------------------------------------------------------------------------
// author: RC
// contact: cozot@irisa.fr
// version: 0.1
// current version date: 2016/01/26
//----------------------------------------------------------------------------------------
// atomicGL2Texture
//----------------------------------------------------------------------------------------
// TODO list
//----------------------------------------------------------------------------------------

class atomicGL2Texture{

// constructor
//------------------------
// inputs
//------------------------
// ffile: 	texture filename - string
// ttype:		texture type : color | normal | displacement | specular | opacity - string
// aagl:		atomicGL context


	constructor(iid,ffile, ttype, aagl){
		// debug
		//console.log(&quot;atomicGLTexture::constructor(&quot;+ffile+&quot;)&quot;);
		// attributes
		// -------------------------------------------------
		// local context
		this.agl = aagl ;
		// texture id
		this.id = iid ;
		// file name
		this.file = ffile ;
		// texture type
		this.type = ttype ;
		// texture image
		this.textureImage = new Image();
		// ogl texture
    this.texture = aagl.gl.createTexture();
    this.texture.image =   this.textureImage ;

    // build
    this.build();
	}
	// --------------------------------------------------
	// methods
	// --------------------------------------------------
	// handleIMG(o)
	//---------------------------
	// inputs
	//---------------------------
	// o: 	this - atomicGLtexture
	//---------------------------
	handleIMG(){
		var o = this ;
		// debug
		//console.log(&quot;atomicGLTexture::onload(&quot;+o.file+&quot;)&quot;);

        o.agl.gl.pixelStorei(o.agl.gl.UNPACK_FLIP_Y_WEBGL, true);
		// bindTexture
        o.agl.gl.bindTexture(o.agl.gl.TEXTURE_2D, o.texture);
        o.agl.gl.texImage2D(o.agl.gl.TEXTURE_2D, 0, o.agl.gl.RGBA, o.agl.gl.RGBA, o.agl.gl.UNSIGNED_BYTE, o.texture.image);
        // parameters
		o.agl.gl.texParameteri(o.agl.gl.TEXTURE_2D, o.agl.gl.TEXTURE_MAG_FILTER, o.agl.gl.LINEAR);
        o.agl.gl.texParameteri(o.agl.gl.TEXTURE_2D, o.agl.gl.TEXTURE_MIN_FILTER, o.agl.gl.LINEAR_MIPMAP_NEAREST);
        o.agl.gl.generateMipmap(o.agl.gl.TEXTURE_2D);
		// unbind
        o.agl.gl.bindTexture(agl.gl.TEXTURE_2D, null);
		// loaded !
		o.loaded = true ;
	}
	// --------------------------------------------------
	// build
	// --------------------------------------------------
	// handle image load
	build(){
	this.textureImage.onload = this.handleIMG.bind(this);

	// init: set the file src
    this.textureImage.src = this.file;
	}

}
</code></pre>

</div>

<footer class="footer">
  Generated by <a href="https://esdoc.org">ESDoc<span data-ice="esdocVersion">(0.4.4)</span></a>
</footer>

<script src="script/search_index.js"></script>
<script src="script/search.js"></script>
<script src="script/pretty-print.js"></script>
<script src="script/inherited-summary.js"></script>
<script src="script/test-summary.js"></script>
<script src="script/inner-link.js"></script>
<script src="script/patch-for-local.js"></script>
</body>
</html>
